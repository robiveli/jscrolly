!function(){"use strict";function a(a,b){return Object.keys(b).forEach(function(c){a[c]=b[c]}.bind(this)),a}var b=function(b){var c={prevText:"Previous",nextText:"Next"};this.options=b?a(c,b):c,console.log(this.options),this.init()};b.prototype={init:function(){this.$el=document.getElementsByClassName("jScrolly"),this.$slider=this.$el[0].getElementsByClassName("slider"),this.$items=this.$slider[0].childNodes,this.itemsNum=this.$items.length,this.wraperWidth=this.$el[0].offsetWidth,this.initialSliderWidth=this.itemsNum*this.$items[0].offsetWidth,this.setupSlider(),this.renderUI(),this.rebuildListener()},setupSlider:function(){var a,b;this.$items.forEach(function(c,d){var e=window.getComputedStyle(c),f=parseInt(e.marginLeft),g=parseInt(e.marginRight);a=a?a+f+g:f+g,b=d}),this.sliderWidth=Number(this.initialSliderWidth+a),this.stepOffset=a/b,this.offsetAll=a,this.slideStep=this.$items[0].offsetWidth+this.stepOffset,this.maxSlideNext=this.sliderWidth-this.wraperWidth,this.maxSlidePrev=0,this.$slider[0].style.width=this.sliderWidth+"px",this.$slider[0].style.transform="translateX(0px)"},renderUI:function(){var a='<div class="jPanel">                <button class="prevBtn">'+this.options.prevText+'</button>                <button class="nextBtn">'+this.options.nextText+"</button>            </div>";this.$el[0].insertAdjacentHTML("beforeend",a),this.eventsSetup()},eventsSetup:function(){this.$nextBtn=document.getElementsByClassName("nextBtn"),this.$prevBtn=document.getElementsByClassName("prevBtn"),this.$nextBtn[0].addEventListener("click",this.moveNext.bind(this)),this.$prevBtn[0].addEventListener("click",this.movePrev.bind(this))},moveNext:function(){this.step>this.maxSlideNext||(this.step=this.step?this.step+this.slideStep:this.slideStep,this.step<this.maxSlideNext&&this.maxSlideNext>this.step?this.animate(this.step):this.animate(this.maxSlideNext))},movePrev:function(){this.step!==this.maxSlidePrev&&(this.step=this.step-this.slideStep,this.animate(this.step)),(!this.step||this.step===this.maxSlidePrev)&&this.setupLastStep(this.step||0)},animate:function(a){this.$slider[0].style.transform="translateX(-"+a+"px)"},setupLastStep:function(a){console.log(a)},rebuildListener:function(){window.addEventListener("resize",function(){this.step=0,this.wraperWidth=this.$el[0].offsetWidth,this.initialSliderWidth=this.itemsNum*this.$items[0].offsetWidth,this.setupSlider()}.bind(this))}},window.jScrolly=b}();