"use strict";var setPolyfill=function(){"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)},extendDefaults=function(a,b){return Object.keys(b).forEach(function(c){a[c]=b[c]}),a},simpleThrottle=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(){var c=this,d=arguments;if(!this.throttled){this.throttled=!0,clearTimeout(e);var e=setTimeout(function(){a.apply(c,d),c.throttled=!1},b)}}},setPrefix=function(a){var b=["transform","WebkitTransform","msTransform","MozTransform"],c=document.createElement("div");b.forEach(function(b){void 0===c.style[b]||a.transformPrefixed||(a.transformPrefixed=b)})},hasClass=function(a,b){return a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)},removeClass=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")},jScrolly=function(a){var b={buttonsClass:"jPanel",buttonPrevClass:"prevBtn",buttonNextClass:"nextBtn",buttonNeactiveClass:"neactive",buttonPrevText:"Previous",buttonNextText:"Next",onRenderButtons:null,onFirstSlide:null,onSlide:null};this.options=a?extendDefaults(b,a):b,setPolyfill(),this.init()};jScrolly.prototype={init:function(){this.$el=document.getElementsByClassName("jScrolly"),this.$slider=this.$el[0].getElementsByClassName("slider"),this.$items=this.$slider[0].childNodes,setPrefix(this),this.setupSlider(),this.renderButtons(),this.rebuildListener()},setupSlider:function(){var a,b,c;this.$items.forEach(function(d,e){if(d.nodeType===Node.ELEMENT_NODE){var f=window.getComputedStyle(d),g=parseInt(f.marginLeft),h=parseInt(f.marginRight);a=a?a+1:1,b=d.offsetWidth,c=c?c+g+h:g+h}});var d=Number(a*b+c),e=c/(a-1);this.slideStep=b+e,this.maxSlideNext=d-this.$el[0].offsetWidth,this.maxSlidePrev=0,this.$slider[0].style.width=d+"px",this.$slider[0].style[this.transformPrefixed]="translateX(0px)"},renderButtons:function(){var a='<div class="'+this.options.buttonsClass+'">                <button class="'+this.options.buttonPrevClass+" "+this.options.buttonNeactiveClass+'">'+this.options.buttonPrevText+'</button>                <button class="'+this.options.buttonNextClass+'">'+this.options.buttonNextText+"</button>            </div>";this.$el[0].insertAdjacentHTML("beforeend",a),this.eventsSetup(),this.options.onRenderButtons&&this.options.onRenderButtons(this.$el[0].getElementsByClassName(this.options.buttonsClass))},eventsSetup:function(){var a=this;this.$nextBtn=this.$el[0].getElementsByClassName(this.options.buttonNextClass),this.$prevBtn=this.$el[0].getElementsByClassName(this.options.buttonPrevClass),this.$nextBtn[0].addEventListener("click",function(){return a.moveNext()}),this.$prevBtn[0].addEventListener("click",function(){return a.movePrev()})},moveNext:function(){this.step>this.maxSlideNext||(this.customCallbacks(),this.step=this.step?this.step+this.slideStep:this.slideStep,this.step<this.maxSlideNext?(this.maxSlideNext>this.step?this.animate(this.step):this.animate(this.maxSlideNext),this.$prevBtn[0].className=this.options.buttonPrevClass):(this.animate(this.maxSlideNext),this.setNeactiveBtn(this.$nextBtn[0])))},movePrev:function(){this.step!==this.maxSlidePrev&&(this.step=this.step-this.slideStep,this.animate(this.step),this.$nextBtn[0].className=this.options.buttonNextClass,this.customCallbacks()),this.step==this.maxSlidePrev&&this.setNeactiveBtn(this.$prevBtn[0])},setNeactiveBtn:function(a){removeClass(this.$prevBtn[0],this.options.buttonNeactiveClass),removeClass(this.$nextBtn[0],this.options.buttonNeactiveClass),hasClass(a,this.options.buttonNeactiveClass)||(a.className+=" "+this.options.buttonNeactiveClass)},animate:function(a){this.$slider[0].style[this.transformPrefixed]="translateX(-"+a+"px)"},rebuildListener:function(){var a=this,b=this.$el[0].getElementsByClassName("jContent")[0];window.addEventListener("resize",simpleThrottle(function(){b.scrollLeft=0,a.step=0,a.setupSlider(),a.setNeactiveBtn(a.$prevBtn[0])}))},customCallbacks:function(){void 0==this.step&&this.options.onFirstSlide&&this.options.onFirstSlide(),this.options.onSlide&&this.options.onSlide()},destroy:function(){this.$el[0].getElementsByClassName(this.options.buttonsClass)[0].remove(),this.$slider[0].style="",delete this.options}},window.jScrolly=jScrolly;