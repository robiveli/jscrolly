!function(t,e){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define([],function(){return t.jScrolly=e()}):"object"==typeof module&&module.exports?module.exports=e():t.jScrolly=e()}(this,function(){"use strict";var t=function(t){var e={buttonsClass:"jPanel",buttonPrevClass:"prevBtn",buttonNextClass:"nextBtn",buttonNeactiveClass:"neactive",buttonPrevText:"Previous",buttonNextText:"Next",transitionSpeed:"400",onFirstSlide:null,onSlide:null};this.options=t?i(e,t):e,s(),this.init()},s=function(){"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)},i=function(e,s){return Object.keys(s).forEach(function(t){e[t]=s[t]}),e},e=function(t,e,s){var i=document.createElement("div");t.forEach(function(t){void 0===i.style[t]||s[e]||(s[e]=t)})},n=function(t,e){t.classList.remove(e)};return t.prototype={init:function(){this.$el=document.getElementsByClassName("jScrolly"),this.$jContent=this.$el[0].getElementsByClassName("jContent"),this.$slider=this.$el[0].getElementsByClassName("slider"),this.$items=this.$slider[0].childNodes,e(["transform","WebkitTransform","msTransform","MozTransform"],"transformPrefixed",this),e(["transition","WebkitTransition","oTransition","MozTransition"],"transitionPrefixed",this),this.setupSlider(),this.renderButtons(),this.rebuildListener()},setupSlider:function(){var o,a,r;this.$items.forEach(function(t,e){if(t.nodeType===Node.ELEMENT_NODE){var s=window.getComputedStyle(t),i=parseInt(s.marginLeft),n=parseInt(s.marginRight);o=o?o+1:1,a=t.offsetWidth,r=r?r+i+n:i+n}});var t=Number(o*a+r),e=r/(o-1);this.slideStep=a+e,this.maxSlideNext=t-this.$el[0].offsetWidth,this.maxSlidePrev=0,this.$slider[0].style.width=t+"px",this.$slider[0].style[this.transformPrefixed]="translateX(0px)",this.$slider[0].style[this.transitionPrefixed]="".concat(this.options.transitionSpeed,"ms"),this.$jContent[0].style.overflow="hidden"},renderButtons:function(){this.$el[0].insertAdjacentHTML("beforeend",'<div class="'.concat(this.options.buttonsClass,'">\n\t\t\t\t<button class="').concat(this.options.buttonPrevClass," ").concat(this.options.buttonNeactiveClass,'">\n\t\t\t\t\t').concat(this.options.buttonPrevText,'\n\t\t\t\t</button>\n\t\t\t\t<button class="').concat(this.options.buttonNextClass,'">\n\t\t\t\t\t').concat(this.options.buttonNextText,"\n\t\t\t\t</button>\n\t\t\t</div>")),this.$nextBtn=this.$el[0].getElementsByClassName(this.options.buttonNextClass),this.$prevBtn=this.$el[0].getElementsByClassName(this.options.buttonPrevClass),this.eventsSetup()},eventsSetup:function(){var t=this;this.$nextBtn[0].addEventListener("click",function(){return t.moveNext()}),this.$prevBtn[0].addEventListener("click",function(){return t.movePrev()})},moveNext:function(){this.step>this.maxSlideNext||(this.customCallbacks(),this.step=this.step?this.step+this.slideStep:this.slideStep,this.step<this.maxSlideNext?(this.maxSlideNext>this.step?this.animate(this.step):this.animate(this.maxSlideNext),this.$prevBtn[0].className=this.options.buttonPrevClass):(this.animate(this.maxSlideNext),this.setNeactiveBtn(this.$nextBtn[0])))},movePrev:function(){this.step!==this.maxSlidePrev&&(this.step=this.step-this.slideStep,this.animate(this.step),this.$nextBtn[0].className=this.options.buttonNextClass,this.customCallbacks()),this.step==this.maxSlidePrev&&this.setNeactiveBtn(this.$prevBtn[0])},setNeactiveBtn:function(t){var e,s;n(this.$prevBtn[0],this.options.buttonNeactiveClass),n(this.$nextBtn[0],this.options.buttonNeactiveClass),e=t,s=this.options.buttonNeactiveClass,e.classList.contains(s)||(t.className+=" "+this.options.buttonNeactiveClass)},animate:function(t){this.$slider[0].style[this.transformPrefixed]="translateX(-"+t+"px)"},rebuildListener:function(){var t=this;window.addEventListener("resize",function(i){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200;return function(){var t=this,e=arguments;if(!this.throttled){this.throttled=!0,clearTimeout(s);var s=setTimeout(function(){i.apply(t,e),t.throttled=!1},n)}}}(function(){t.$jContent[0].scrollLeft=0,t.step=0,t.setupSlider(),t.setNeactiveBtn(t.$prevBtn[0])}))},customCallbacks:function(){null==this.step&&this.options.onFirstSlide&&this.options.onFirstSlide(),this.options.onSlide&&this.options.onSlide()},destroy:function(){this.$el[0].getElementsByClassName(this.options.buttonsClass)[0].remove(),this.$slider[0].style="",delete this.options}},t});